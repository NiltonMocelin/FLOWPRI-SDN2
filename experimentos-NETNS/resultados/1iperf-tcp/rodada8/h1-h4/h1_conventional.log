Neste caso o management host eh esse aqui: se nao for, alterar o ip management host aqui!
Monitoramento iniciado: host 172.16.1.30!
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
enviando monitoring tempo:  1745280795680
Enviando flowmonitoring para %s:%d 172.16.1.30 9090
Enviando msg_str para -> 172.16.1.30:9090

4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 2962
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 2962
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 2962
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 2962
{"Monitoring": {"ip_src": "172.16.4.30", "ip_dst": "172.16.1.30", "src_port": 53748, "dst_port": 5001, "proto": 6, "qtd_pacotes": 20, "monitor_name": "172.16.1.30", "timestamps": [1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795], "pktsizes": [1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514]}}
enviando monitoring tempo:  1745280795688
Enviando flowmonitoring para %s:%d 172.16.1.30 9090
Enviando msg_str para -> 172.16.1.30:9090

4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 4410
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
4_6_172.16.4.30_172.16.1.30_53748_5001 1745280795 1514
{"Monitoring": {"ip_src": "172.16.4.30", "ip_dst": "172.16.1.30", "src_port": 53748, "dst_port": 5001, "proto": 6, "qtd_pacotes": 20, "monitor_name": "172.16.1.30", "timestamps": [1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795, 1745280795], "pktsizes": [1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 1514, 2962, 1514, 2962, 2962, 2962]}}
Exception in thread Thread-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/threading.py", line 932, in _bootstrap_inner
Traceback (most recent call last):
  File "host/host_normal_server.py", line 48, in <module>
    self.run()
  File "/usr/local/lib/python3.8/threading.py", line 870, in run
    self._target(*self._args, **self._kwargs)
  File "/home/nnmoc/host1/host/host_traffic_monitoring/monitoring_utils.py", line 37, in enviar_msg
    start_monitoring(ip_management_host=ip_management_host,port_management_host=PORT_MANAGEMENT_HOST,meu_ip=ip_management_host, interface=get_minha_interface())
  File "/home/nnmoc/host1/host/host_traffic_monitoring/monitoring_utils.py", line 245, in start_monitoring
    send_data(tcp, msg_str)
  File "/home/nnmoc/host1/host/host_traffic_monitoring/monitoring_utils.py", line 26, in send_data
    nome_fluxo = str(ip_pkt.version) + "_"+ str(ip_pkt.proto) + "_"+ ip_pkt.src + "_"+ ip_pkt.dst + "_"+ str(ip_pkt.sport) + "_"+str(ip_pkt.dport)
AttributeError: 'NoneType' object has no attribute 'version'
    conn.sendall(struct.pack('>I', len(serialized_data)))
ConnectionResetError: [Errno 104] Connection reset by peer
